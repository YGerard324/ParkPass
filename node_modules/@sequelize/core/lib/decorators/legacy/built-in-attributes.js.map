{
  "version": 3,
  "sources": ["../../../src/decorators/legacy/built-in-attributes.ts"],
  "sourcesContent": ["import type { ModelStatic } from '../../model.js';\nimport { isModelStatic } from '../../utils/model-utils.js';\nimport { registerModelOptions } from '../shared/model.js';\nimport type { OptionalParameterizedPropertyDecorator } from './decorator-utils.js';\nimport {\n  createOptionallyParameterizedPropertyDecorator,\n  throwMustBeAttribute,\n  throwMustBeInstanceProperty,\n  throwMustBeModel,\n} from './decorator-utils.js';\n\nfunction createBuiltInAttributeDecorator(\n  decoratorName: string,\n  callback: (target: ModelStatic, propertyName: string) => void,\n): OptionalParameterizedPropertyDecorator<undefined> {\n  return createOptionallyParameterizedPropertyDecorator<undefined>(\n    decoratorName,\n    undefined,\n    (decoratorOption, target, propertyName) => {\n      if (typeof target === 'function') {\n        throwMustBeInstanceProperty(decoratorName, target, propertyName);\n      }\n\n      if (!isModelStatic(target.constructor)) {\n        throwMustBeModel(decoratorName, target, propertyName);\n      }\n\n      if (typeof propertyName === 'symbol') {\n        throwMustBeAttribute(decoratorName, target, propertyName);\n      }\n\n      callback(target.constructor, propertyName);\n    },\n  );\n}\n\nexport const CreatedAt = createBuiltInAttributeDecorator(\n  'CreatedAt',\n  (target: ModelStatic, propertyName: string) => {\n    registerModelOptions(target, {\n      createdAt: propertyName,\n      timestamps: true,\n    });\n  },\n);\n\nexport const UpdatedAt = createBuiltInAttributeDecorator(\n  'UpdatedAt',\n  (target: ModelStatic, propertyName: string) => {\n    registerModelOptions(target, {\n      updatedAt: propertyName,\n      timestamps: true,\n    });\n  },\n);\n\nexport const DeletedAt = createBuiltInAttributeDecorator(\n  'DeletedAt',\n  (target: ModelStatic, propertyName: string) => {\n    registerModelOptions(target, {\n      deletedAt: propertyName,\n      timestamps: true,\n      paranoid: true,\n    });\n  },\n);\n\nexport const Version = createBuiltInAttributeDecorator(\n  'Version',\n  (target: ModelStatic, propertyName: string) => {\n    registerModelOptions(target, {\n      version: propertyName,\n    });\n  },\n);\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,yBAA8B;AAC9B,mBAAqC;AAErC,6BAKO;AAEP,SAAS,gCACP,eACA,UACmD;AACnD,aAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,CAAC,iBAAiB,QAAQ,iBAAiB;AACzC,UAAI,OAAO,WAAW,YAAY;AAChC,gEAA4B,eAAe,QAAQ,YAAY;AAAA,MACjE;AAEA,UAAI,KAAC,kCAAc,OAAO,WAAW,GAAG;AACtC,qDAAiB,eAAe,QAAQ,YAAY;AAAA,MACtD;AAEA,UAAI,OAAO,iBAAiB,UAAU;AACpC,yDAAqB,eAAe,QAAQ,YAAY;AAAA,MAC1D;AAEA,eAAS,OAAO,aAAa,YAAY;AAAA,IAC3C;AAAA,EACF;AACF;AAEO,MAAM,YAAY;AAAA,EACvB;AAAA,EACA,CAAC,QAAqB,iBAAyB;AAC7C,2CAAqB,QAAQ;AAAA,MAC3B,WAAW;AAAA,MACX,YAAY;AAAA,IACd,CAAC;AAAA,EACH;AACF;AAEO,MAAM,YAAY;AAAA,EACvB;AAAA,EACA,CAAC,QAAqB,iBAAyB;AAC7C,2CAAqB,QAAQ;AAAA,MAC3B,WAAW;AAAA,MACX,YAAY;AAAA,IACd,CAAC;AAAA,EACH;AACF;AAEO,MAAM,YAAY;AAAA,EACvB;AAAA,EACA,CAAC,QAAqB,iBAAyB;AAC7C,2CAAqB,QAAQ;AAAA,MAC3B,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AACF;AAEO,MAAM,UAAU;AAAA,EACrB;AAAA,EACA,CAAC,QAAqB,iBAAyB;AAC7C,2CAAqB,QAAQ;AAAA,MAC3B,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACF;",
  "names": []
}
