{
  "version": 3,
  "sources": ["../../src/utils/validator-extras.js"],
  "sourcesContent": ["'use strict';\n\nimport cloneDeep from 'lodash/cloneDeep';\nimport forEach from 'lodash/forEach';\n\nconst validator = cloneDeep(require('validator'));\nconst dayjs = require('dayjs');\n\nexport const extensions = {\n  extend(name, fn) {\n    this[name] = fn;\n\n    return this;\n  },\n  notEmpty(str) {\n    return !/^\\s*$/.test(str);\n  },\n  // TODO: accept { min, max } object\n  len(str, min, max) {\n    return this.isLength(str, min, max);\n  },\n  isUrl(str) {\n    return this.isURL(str);\n  },\n  isIPv6(str) {\n    return this.isIP(str, 6);\n  },\n  isIPv4(str) {\n    return this.isIP(str, 4);\n  },\n  notIn(str, values) {\n    return !this.isIn(str, values);\n  },\n  regex(str, pattern, modifiers) {\n    str = String(str);\n    if (Object.prototype.toString.call(pattern).slice(8, -1) !== 'RegExp') {\n      pattern = new RegExp(pattern, modifiers);\n    }\n\n    return str.match(pattern);\n  },\n  notRegex(str, pattern, modifiers) {\n    return !this.regex(str, pattern, modifiers);\n  },\n  isDecimal(str) {\n    return str !== '' && Boolean(/^(?:-?\\d+)?(?:\\.\\d*)?(?:[Ee][+-]?\\d+)?$/.test(str));\n  },\n  min(str, val) {\n    const number = Number.parseFloat(str);\n\n    return Number.isNaN(number) || number >= val;\n  },\n  max(str, val) {\n    const number = Number.parseFloat(str);\n\n    return Number.isNaN(number) || number <= val;\n  },\n  not(str, pattern, modifiers) {\n    return this.notRegex(str, pattern, modifiers);\n  },\n  contains(str, elem) {\n    return Boolean(elem) && str.includes(elem);\n  },\n  notContains(str, elem) {\n    return !this.contains(str, elem);\n  },\n  is(str, pattern, modifiers) {\n    return this.regex(str, pattern, modifiers);\n  },\n};\n\n// instance based validators\nvalidator.isImmutable = function (value, validatorArgs, field, modelInstance) {\n  return (\n    modelInstance.isNewRecord ||\n    modelInstance.dataValues[field] === modelInstance._previousDataValues[field]\n  );\n};\n\n// extra validators\nvalidator.notNull = function (val) {\n  return val !== null && val !== undefined;\n};\n\n// https://github.com/chriso/validator.js/blob/6.2.0/validator.js\nforEach(extensions, (extend, key) => {\n  validator[key] = extend;\n});\n\n// map isNull to isEmpty\n// https://github.com/chriso/validator.js/commit/e33d38a26ee2f9666b319adb67c7fc0d3dea7125\nvalidator.isNull = validator.isEmpty;\n\n// isDate removed in 7.0.0\n// https://github.com/chriso/validator.js/commit/095509fc707a4dc0e99f85131df1176ad6389fc9\n// TODO: isDate has been added back https://github.com/validatorjs/validator.js/pull/1270\nvalidator.isDate = function (dateString) {\n  return dayjs(dateString).isValid();\n};\n\nexport { validator };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,uBAAsB;AACtB,qBAAoB;AAEpB,MAAM,gBAAY,iBAAAA,SAAU,QAAQ,WAAW,CAAC;AAChD,MAAM,QAAQ,QAAQ,OAAO;AAEtB,MAAM,aAAa;AAAA,EACxB,OAAO,MAAM,IAAI;AACf,SAAK,IAAI,IAAI;AAEb,WAAO;AAAA,EACT;AAAA,EACA,SAAS,KAAK;AACZ,WAAO,CAAC,QAAQ,KAAK,GAAG;AAAA,EAC1B;AAAA;AAAA,EAEA,IAAI,KAAK,KAAK,KAAK;AACjB,WAAO,KAAK,SAAS,KAAK,KAAK,GAAG;AAAA,EACpC;AAAA,EACA,MAAM,KAAK;AACT,WAAO,KAAK,MAAM,GAAG;AAAA,EACvB;AAAA,EACA,OAAO,KAAK;AACV,WAAO,KAAK,KAAK,KAAK,CAAC;AAAA,EACzB;AAAA,EACA,OAAO,KAAK;AACV,WAAO,KAAK,KAAK,KAAK,CAAC;AAAA,EACzB;AAAA,EACA,MAAM,KAAK,QAAQ;AACjB,WAAO,CAAC,KAAK,KAAK,KAAK,MAAM;AAAA,EAC/B;AAAA,EACA,MAAM,KAAK,SAAS,WAAW;AAC7B,UAAM,OAAO,GAAG;AAChB,QAAI,OAAO,UAAU,SAAS,KAAK,OAAO,EAAE,MAAM,GAAG,EAAE,MAAM,UAAU;AACrE,gBAAU,IAAI,OAAO,SAAS,SAAS;AAAA,IACzC;AAEA,WAAO,IAAI,MAAM,OAAO;AAAA,EAC1B;AAAA,EACA,SAAS,KAAK,SAAS,WAAW;AAChC,WAAO,CAAC,KAAK,MAAM,KAAK,SAAS,SAAS;AAAA,EAC5C;AAAA,EACA,UAAU,KAAK;AACb,WAAO,QAAQ,MAAM,QAAQ,0CAA0C,KAAK,GAAG,CAAC;AAAA,EAClF;AAAA,EACA,IAAI,KAAK,KAAK;AACZ,UAAM,SAAS,OAAO,WAAW,GAAG;AAEpC,WAAO,OAAO,MAAM,MAAM,KAAK,UAAU;AAAA,EAC3C;AAAA,EACA,IAAI,KAAK,KAAK;AACZ,UAAM,SAAS,OAAO,WAAW,GAAG;AAEpC,WAAO,OAAO,MAAM,MAAM,KAAK,UAAU;AAAA,EAC3C;AAAA,EACA,IAAI,KAAK,SAAS,WAAW;AAC3B,WAAO,KAAK,SAAS,KAAK,SAAS,SAAS;AAAA,EAC9C;AAAA,EACA,SAAS,KAAK,MAAM;AAClB,WAAO,QAAQ,IAAI,KAAK,IAAI,SAAS,IAAI;AAAA,EAC3C;AAAA,EACA,YAAY,KAAK,MAAM;AACrB,WAAO,CAAC,KAAK,SAAS,KAAK,IAAI;AAAA,EACjC;AAAA,EACA,GAAG,KAAK,SAAS,WAAW;AAC1B,WAAO,KAAK,MAAM,KAAK,SAAS,SAAS;AAAA,EAC3C;AACF;AAGA,UAAU,cAAc,SAAU,OAAO,eAAe,OAAO,eAAe;AAC5E,SACE,cAAc,eACd,cAAc,WAAW,KAAK,MAAM,cAAc,oBAAoB,KAAK;AAE/E;AAGA,UAAU,UAAU,SAAU,KAAK;AACjC,SAAO,QAAQ,QAAQ,QAAQ;AACjC;AAAA,IAGA,eAAAC,SAAQ,YAAY,CAAC,QAAQ,QAAQ;AACnC,YAAU,GAAG,IAAI;AACnB,CAAC;AAID,UAAU,SAAS,UAAU;AAK7B,UAAU,SAAS,SAAU,YAAY;AACvC,SAAO,MAAM,UAAU,EAAE,QAAQ;AACnC;",
  "names": ["cloneDeep", "forEach"]
}
